<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="employeeMapper">

	<resultMap id="empResultSet" type="Employee">
		<id property="empId" column="emp_id"/>
		<result property="empName" column="emp_name"/>
		<result property="empPwd" column="emp_pwd"/>
		<result property="gender" column="gender"/>
		<result property="birth" column="birth"/>
		<result property="deptCode" column="dept_code"/>
		<result property="deptName" column="dept_name"/>
		<result property="jobCode" column="job_code"/>
		<result property="jobName" column="job_name"/>
		<result property="phone" column="phone"/>
		<result property="email" column="email"/>
		<result property="address" column="address"/>
		<result property="salary" column="salary"/>
		<result property="account" column="account"/>
		<result property="star" column="star"/>
		<result property="enrollDate" column="enroll_date"/>
		<result property="retireDate" column="retire_date"/>
		<result property="empStatus" column="emp_status"/>
		<result property="profilePath" column="profile_path"/>
	</resultMap>
	
	
	<resultMap id="workResultSet" type="WorkTime">
		<id property="today" column="today"/>
		<id property="empId" column="emp_id"/>
		<result property="checkIn" column="check_in"/>
		<result property="checkOut" column="check_out"/>
	</resultMap>

	
	<resultMap id="widgetResultSet" type="Widget">
		<id property="widgetType" column="widget_type"/>
		<id property="empId" column="emp_id"/>
		<result property="left" column="left"/>
		<result property="top" column="top"/>
		<result property="fold" column="fold"/>
		<result property="status" column="status"/>
	</resultMap>
	
	
	
	<select id="loginEmp" parameterType="Employee" resultMap="empResultSet">
		select * from emp where emp_id=#{empId} and emp_pwd=#{empPwd} and emp_status='Y'
	</select>
	
	
	<update id="saveWidget" parameterType="Widget">
		update widget
		set left=#{left}, top=#{top}, fold=#{fold}, status=#{status}
		where widget_type=#{widgetType} and emp_id=#{empId}
	</update>
	
	
	<select id="selectWidget" parameterType="_int" resultMap="widgetResultSet">
		select * from widget where emp_id=#{id}
	</select>
	
	
	<select id="selectAllEmp" resultMap="empResultSet">
		select * from emp where emp_status='Y' order by job_code, emp_name
	</select>
	
	

</mapper>
