<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="projectMapper">

	<resultMap id="projectResultSet" type="Project">
		<id property="pNo" column="p_no"/>
		<result property="pName" column="p_name"/>
		<result property="pContent" column="p_content"/>
		<result property="pmId" column="pm_id"/>
		<result property="pEnrollDate" column="p_enroll_date"/>
		<result property="pProgress" column="p_progress"/>
		<result property="Status" column="status"/>
	</resultMap>
	
	<resultMap id="projectMemberResultSet" type="ProjectMember">
		<id property="pNo" column="p_no"/>
		<id property="empId" column="emp_id"/>
	</resultMap>
	
	<resultMap id="projectTaskResultSet" type="ProjectTask">
		<id property="taskNo" column="task_no"/>
		<result property="pNo" column="p_no"/>
		<result property="taskWriter" column="task_writer"/>
		<result property="taskTitle" column="task_title"/>
		<result property="taskContent" column="task_content"/>
		<result property="taskCount" column="task_count"/>
		<result property="status" column="status"/>
		<result property="tCreateDate" column="t_create_date"/>
		<result property="tModifyDate" column="t_modify_date"/>
		<result property="tOriginalFileName" column="t_original_filename"/>
		<result property="tRenameFileName" column="t_rename_filename"/>
	</resultMap>
	
	<resultMap id="projectReplyResultSet" type="ProjectReply">
		<id property="pRId" column="p_rid"/>
		<result property="pNo" column="p_no"/>
		<result property="pRwriter" column="p_rwriter"/>
		<result property="pRContent" column="p_rcontent"/>
		<result property="createDate" column="create_date"/>
		<result property="modifyDate" column="modify_date"/>
		<result property="status" column="status"/>
	</resultMap>
	
	
	<!-- TaskList 불러오기 -->
	<select id="selectTaskList" parameterType="ProjectTask" resultMap="projectTaskResultSet">
		select *
		from project_task
		where p_no=#{pNo} and status != 'N'
		order by task_no desc
	</select>
	
	<!-- project 리스트 불러오기 -->
	<select id="selectPlist" parameterType="Project" resultMap="projectResultSet">
		select *
		from project
		join project_member using(p_no)
		where emp_id=#{empId} and status='Y'
	</select>
	
	
	
	
	
	
	
	
	
	
	
	
	

	
	
</mapper>